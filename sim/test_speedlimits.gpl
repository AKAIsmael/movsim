# gnuplot command file

# parameterised startStop command file
# invoke using -e option to set parameters, eg:
# gnuplot -e "lang='de'" test_speedlimits.gpl

set datafile separator ","

# set the output type and size
set terminal postscript eps enhanced color solid font "Helvetica" 26
set size 1,1

# parameters
if (!exists("inputPath")) inputPath = ""
if (!exists("outputPath")) outputPath = "figs/"
if (!exists("lang")) lang = "en"
#print "lang=".lang

# variables
baseFile = "test_speedlimits"

# input files
carFile(n) = sprintf(inputPath.baseFile.".V%06d.csv",n)

# output files
trajectoryOutput = outputPath.baseFile.".trajectories.eps"


########  Languages  #####################################

# English
positionLabel = "Position (km)"
speedLabel = "Speed (km/h)"
accelerationLabel = "Acceleration (m/s^2)"
car(n) = sprintf("Car %d",n)

# Deutsch
if (lang eq "de")\
  positionLabel = "Ort (km)";\
  speedLabel = "Geschwindigkeit (km/h)";\
  car(n) = sprintf("Kfz %d",n)


########  Line Styles  ###################################

set style line 1 linetype 7 linewidth 3 pointtype 7 pointsize 1.5
set style line 1 linetype 1 linewidth 3 pointtype 5 pointsize 1.5


########  Plot  ##########################################

set yrange [0:160]
set xlabel positionLabel
set ylabel speedLabel
#unset key

set out outputPath.baseFile.".trajectories_speed.eps"
plot\
  carFile(1) using ($3/1000):(3.6*$4) title "car(1)" with lines linestyle 1
  

set autoscale y
set ylabel speedLabel

unset key
set out outputPath.baseFile.".trajectories_acc.eps"
plot\
  carFile(1) using ($3/1000):5 title "car(1)" with lines linestyle 1
  
  
